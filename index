<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Online Vietnamese e-Visa Application</title>
  <style>
    :root{
      --brand:#2a2d71; /* Vy Vo Visa blue */
      --brand-2:#1e40af;
      --bg:#f7fafc;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --accent:#e2e8f0;
      --success:#16a34a;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      background:var(--bg);
      line-height:1.45;
    }
    header.hero{
      position:relative;
      background:
        linear-gradient(180deg, rgba(10,15,30,.65), rgba(10,15,30,.65)),
        url('https://images.unsplash.com/photo-1542744173-8e7e53415bb0?q=80&w=2070&auto=format&fit=crop') center/cover no-repeat;
      color:#fff;
      padding:64px 20px 32px;
      text-align:center;
    }
    header.hero h1{margin:0 0 8px;font-size:32px;font-weight:800}
    .steps{
      display:flex;
      justify-content:center;
      gap:28px;
      margin-top:16px;
      flex-wrap:wrap;
    }
    .step{
      display:flex;align-items:center;gap:10px;color:#e2e8f0;font-weight:600
    }
    .step .dot{
      width:30px;height:30px;border-radius:50%;
      border:2px solid #a3bffa; display:grid;place-items:center;
      background:transparent;color:#a3bffa;font-weight:700
    }
    .step.active{color:#fff}
    .step.active .dot{background:#22c55e;border-color:#22c55e;color:#052e16}
    main{max-width:1100px;margin:-24px auto 48px;padding:0 16px}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:24px}
    @media (max-width: 960px){ .grid{grid-template-columns:1fr} }
    .card{background:var(--card);border-radius:14px;box-shadow:0 6px 24px rgba(2,6,23,.08);padding:20px}
    .section-title{font-size:18px;margin:0 0 12px;font-weight:800;color:var(--brand)}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width:680px){ .row{grid-template-columns:1fr} }
    label{font-size:13px;color:var(--muted);display:block;margin:10px 0 6px}
    select, input[type="number"], input[type="date"], input[type="text"], input[type="email"], input[type="tel"]{
      width:100%;padding:12px 12px;border:1px solid var(--accent);border-radius:10px;
      background:#fff;font-size:15px; outline:none;
    }
    .muted{color:var(--muted)}
    .radio-group{display:flex;gap:12px;flex-wrap:wrap;margin-top:6px}
    .chip{
      border:1px solid var(--accent);border-radius:999px;padding:10px 14px;cursor:pointer;
      user-select:none;background:#fff;font-size:14px;
    }
    .chip input{display:none}
    .chip.active{border-color:var(--brand);background:rgba(42,45,113,.06);}
    .actions{display:flex;justify-content:flex-end;gap:12px;margin-top:14px}
    button{
      border:none;border-radius:10px;padding:12px 16px;font-weight:700;cursor:pointer;
    }
    .btn-primary{background:var(--brand);color:#fff}
    .btn-ghost{background:#f1f5f9;color:var(--brand)}
    .summary h3{margin:0 0 10px}
    .summary .price{font-size:28px;font-weight:800;color:var(--brand-2)}
    .pill{display:inline-block;padding:4px 8px;border-radius:999px;background:#ecfeff;color:#0ea5e9;font-weight:700;font-size:12px}
    .note{font-size:12px;color:var(--muted)}
    .ok{color:var(--success);font-weight:700}
    .divider{height:1px;background:var(--accent);margin:16px 0}
    .hidden{display:none}
    footer{max-width:1100px;margin:0 auto;padding:16px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <header class="hero">
    <h1>Online Vietnamese e-Visa Application</h1>
    <div class="steps">
      <div class="step active"><div class="dot">1</div>Visa Options</div>
      <div class="step"><div class="dot">2</div>Applicant Details</div>
      <div class="step"><div class="dot">3</div>Review & Payment</div>
    </div>
  </header>

  <main>
    <div class="grid">
      <!-- Left column: form -->
      <div class="card" id="step-1">
        <h2 class="section-title">Visa options</h2>
        <div class="row">
          <div>
            <label for="applicants">Number of applicants</label>
            <input id="applicants" type="number" min="1" max="10" step="1" value="1"/>
          </div>
          <div>
            <label for="visaType">Type of visa</label>
            <select id="visaType">
              <option value="1m_single">1 Month Single Entry (E-Visa / Tourist)</option>
              <option value="3m_single">3 Months Single Entry</option>
              <option value="3m_multi">3 Months Multiple Entry</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div>
            <label for="entryPort">Intended entry port</label>
            <select id="entryPort">
              <option>Noi Bai Int Airport (Ha Noi)</option>
              <option>Tan Son Nhat Int Airport (Ho Chi Minh City)</option>
              <option>Da Nang Int Airport</option>
              <option>Cam Ranh Int Airport (Nha Trang)</option>
            </select>
          </div>
          <div>
            <label for="arrival">Date of arrival</label>
            <input id="arrival" type="date" />
          </div>
        </div>

        <div style="margin-top:8px">
          <label>Processing time</label>
          <div class="radio-group" id="speedGroup">
            <label class="chip active">
              <input type="radio" name="speed" value="same_day" checked/>
              Same day (4–8 working hours)
            </label>
            <label class="chip">
              <input type="radio" name="speed" value="express"/>
              Express (1 business day)
            </label>
            <label class="chip">
              <input type="radio" name="speed" value="standard"/>
              Standard (3 business days)
            </label>
          </div>
        </div>

        <div class="actions">
          <button class="btn-ghost" id="toStep2">Continue</button>
        </div>
      </div>

      <!-- Right column: summary -->
      <aside class="card summary">
        <h3>SUMMARY</h3>
        <div><span class="muted">Number of Visa:</span> <span id="sumApplicants">1 Applicant</span></div>
        <div><span class="muted">Type of Visa:</span> <span id="sumType">1 Month Single Entry (E-Visa / Tourist)</span></div>
        <div><span class="muted">Processing Time:</span> <span id="sumSpeed">Same day (4–8 working hours)</span></div>
        <div class="divider"></div>
        <div class="muted">TOTAL E-VISA FEES:</div>
        <div class="price">$ <span id="sumTotal">55</span> US</div>
        <div class="note">Prices are placeholders for demo purposes — replace with your official fees.</div>
        <div class="divider"></div>
        <div class="pill" id="etaPill">Estimated delivery: same day</div>
      </aside>
    </div>

    <!-- Step 2: Applicant details -->
    <div class="card hidden" id="step-2">
      <h2 class="section-title">Applicant details</h2>
      <div id="applicantsContainer"></div>
      <div class="actions">
        <button class="btn-ghost" id="backTo1">Back</button>
        <button class="btn-primary" id="toStep3">Review</button>
      </div>
    </div>

    <!-- Step 3: Review -->
    <div class="card hidden" id="step-3">
      <h2 class="section-title">Review & Payment</h2>
      <p class="muted">This demo does not process payments. On WordPress.com Free, payment integrations and custom scripts are limited. Link this page to an external checkout (Stripe/PayPal) or upgrade to a plan that allows plugins.</p>
      <div class="actions">
        <button class="btn-ghost" id="backTo2">Back</button>
        <button class="btn-primary" id="submitBtn">Submit application</button>
      </div>
    </div>
  </main>

  <footer>
    <strong>Implementation note:</strong> Replace pricing in <code>PRICES</code> inside the script section. Host this HTML file on Netlify/GitHub Pages and link to it from your WordPress.com site.
  </footer>

  <script>
    // ------- CONFIG (replace with your real fees) -------
    const PRICES = {
      visa: {
        '1m_single': 55,
        '3m_single': 85,
        '3m_multi': 115
      },
      speed: {
        'same_day': 0,       // included in example screenshot
        'express': -5,       // adjust as needed
        'standard': -10
      }
    };
    const SPEED_LABELS = {
      same_day: 'Same day (4–8 working hours)',
      express: 'Express (1 business day)',
      standard: 'Standard (3 business days)'
    };
    const ETA_TEXT = {
      same_day: 'Estimated delivery: same day (4–8 working hours)',
      express: 'Estimated delivery: next business day',
      standard: 'Estimated delivery: 3 business days'
    };

    // ------- Elements -------
    const applicantsEl = document.getElementById('applicants');
    const visaTypeEl = document.getElementById('visaType');
    const speedGroup = document.getElementById('speedGroup');
    const sumApplicants = document.getElementById('sumApplicants');
    const sumType = document.getElementById('sumType');
    const sumSpeed = document.getElementById('sumSpeed');
    const sumTotal = document.getElementById('sumTotal');
    const etaPill = document.getElementById('etaPill');

    function getSpeed(){
      const checked = speedGroup.querySelector('input[name="speed"]:checked');
      return checked?.value || 'same_day';
    }

    function formatType(value){
      return visaTypeEl.options[visaTypeEl.selectedIndex].text;
    }

    function updateChips(){
      speedGroup.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
      speedGroup.querySelector('input[name="speed"]:checked')?.closest('.chip')?.classList.add('active');
    }

    function calcTotal(){
      const n = parseInt(applicantsEl.value || '1', 10);
      const type = visaTypeEl.value;
      const speed = getSpeed();
      const base = PRICES.visa[type] ?? 0;
      const speedAdj = PRICES.speed[speed] ?? 0;
      const total = (base + speedAdj) * n;
      return { n, type, speed, total };
    }

    function renderSummary(){
      const { n, type, speed, total } = calcTotal();
      sumApplicants.textContent = n + (n > 1 ? ' Applicants' : ' Applicant');
      sumType.textContent = formatType(type);
      sumSpeed.textContent = SPEED_LABELS[speed];
      sumTotal.textContent = total.toFixed(0);
      etaPill.textContent = ETA_TEXT[speed];
    }

    applicantsEl.addEventListener('input', renderSummary);
    visaTypeEl.addEventListener('change', renderSummary);
    speedGroup.addEventListener('change', () => { updateChips(); renderSummary(); });
    updateChips(); renderSummary();

    // ------- Steps -------
    const step1 = document.getElementById('step-1');
    const step2 = document.getElementById('step-2');
    const step3 = document.getElementById('step-3');
    const steps = document.querySelectorAll('.steps .step');

    function setActiveStep(index){
      steps.forEach((s,i)=> s.classList.toggle('active', i<=index));
    }

    function buildApplicantForms(){
      const { n } = calcTotal();
      const box = document.getElementById('applicantsContainer');
      box.innerHTML = '';
      for(let i=1;i<=n;i++){
        const wrap = document.createElement('div');
        wrap.className = 'card';
        wrap.style.margin = '12px 0';
        wrap.innerHTML = `
          <div class="row">
            <div>
              <label>Full name (as in passport)</label>
              <input type="text" placeholder="e.g., NGUYEN VAN A" required>
            </div>
            <div>
              <label>Passport number</label>
              <input type="text" placeholder="A1234567" required>
            </div>
          </div>
          <div class="row">
            <div>
              <label>Email</label>
              <input type="email" placeholder="name@example.com" required>
            </div>
            <div>
              <label>Phone</label>
              <input type="tel" placeholder="+84 901 234 567">
            </div>
          </div>
        `;
        box.appendChild(wrap);
      }
    }

    document.getElementById('toStep2').addEventListener('click', ()=>{
      step1.classList.add('hidden'); step2.classList.remove('hidden');
      setActiveStep(1); buildApplicantForms();
      window.scrollTo({top:0, behavior:'smooth'});
    });
    document.getElementById('backTo1').addEventListener('click', ()=>{
      step2.classList.add('hidden'); step1.classList.remove('hidden');
      setActiveStep(0);
      window.scrollTo({top:0, behavior:'smooth'});
    });
    document.getElementById('toStep3').addEventListener('click', ()=>{
      step2.classList.add('hidden'); step3.classList.remove('hidden');
      setActiveStep(2);
      window.scrollTo({top:0, behavior:'smooth'});
    });
    document.getElementById('backTo2').addEventListener('click', ()=>{
      step3.classList.add('hidden'); step2.classList.remove('hidden');
      setActiveStep(1);
      window.scrollTo({top:0, behavior:'smooth'});
    });
    document.getElementById('submitBtn').addEventListener('click', ()=>{
      const { total } = calcTotal();
      alert('Demo only. In production, redirect to your payment provider.\\n\\nTotal: $' + total + ' US');
    });
  </script>
</body>
</html>
